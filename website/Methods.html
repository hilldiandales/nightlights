<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Methods</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Methods.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 6.3.1, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "Site1"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Methods">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body data-path-to-root="./" data-include-products="false" class="u-body u-xl-mode" data-lang="en"><header class="u-black u-box-shadow u-clearfix u-header u-header" id="sec-aa43" data-href="https://nicepage.com"><div class="u-clearfix u-sheet u-sheet-1">
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1.5rem; letter-spacing: 0px; font-weight: 700;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-custom-font u-heading-font u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Home.html" style="padding: 10px 20px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Background.html" style="padding: 10px 20px;">Background</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Methods.html" style="padding: 10px 20px;">Methods</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Background.html">Background</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Methods.html">Methods</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-image u-section-1" id="sec-9d2c" data-image-width="1280" data-image-height="853">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-default u-text-palette-3-base u-text-1">METHODS</h2>
      </div>
    </section>
    <section class="u-black u-clearfix u-section-2" id="sec-c8cc">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-default u-text-1">We acknowledge the NASA ARSET Program's help in getting this project started. Thanks to their module entitled "<a href="https://appliedsciences.nasa.gov/get-involved/training/english/arset-introduction-nasas-black-marble-night-lights-data" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-alt-color u-btn-1">Introduction to NASAâ€™s "Black Marble" Night Lights Data</a>,"&nbsp;we were able to meaningfully explore NASA satellite data even without prior experience with Black Marble data.<br>
          <br>Below we outline the steps we took to create our visualizations. This entire project was done in Python within a Jupyter notebook environment. In line with open science principles, we used only publicly available data and free tools for this whole project.
        </p>
        <div class="u-expanded-width u-list u-list-1">
          <div class="u-repeater u-repeater-1">
            <div class="u-border-1 u-border-grey-40 u-custom-item u-list-item u-palette-3-base u-repeater-item u-list-item-1">
              <div class="u-container-layout u-similar-container u-container-layout-1">
                <h2 class="u-text u-text-black u-text-default u-text-2">01 Downloading</h2>
                <p class="u-custom-item u-text u-text-3">From NASA's&nbsp;<a href="https://ladsweb.modaps.eosdis.nasa.gov/search/" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-black u-btn-2">LAADS DAAC</a>, we downloaded the VNP46A2 daily nighttime lights product which contains near real-time highly-corrected nighttime imagery of the globe at 500-meter resolution. We acquired imagery of Eastern Visayas which was contained within one tile, H30V07. To cover the pre- and post-disaster periods, we downloaded data from one week before Yolanda (1 November 2013) to roughly six months after the disaster (1 May 2014).&nbsp;
                </p>
              </div>
            </div>
            <div class="u-border-1 u-border-grey-40 u-custom-item u-list-item u-palette-3-base u-repeater-item u-video-cover">
              <div class="u-container-layout u-similar-container u-container-layout-2">
                <h2 class="u-text u-text-black u-text-default u-text-4">02 Preprocessing</h2>
                <p class="u-custom-item u-text u-text-5">The nighttime lights data for each day comes in an HDF5 file containing various data fields (see the <a href="https://viirsland.gsfc.nasa.gov/PDF/BlackMarbleUserGuide_v1.2_20210421.pdf" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-3">Black Marble User Guide</a> for more info). For this project, we only analyze the data from the field called "Gap Filled BRDF corrected DNB NTL" as this has already been corrected for various light contaminations such as moonlight, cloud cover, snow, and so on.&nbsp;Using a <a href="https://hdfeos.org/zoo/LAADS/VNP46A1.A2020302.h07v07.001.2020303075447.h5.py" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-4">sample function</a> from NASA's <a href="https://hdfeos.org/zoo/index_openLAADS_Examples.php#VIIRS" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-5">hdfeos.org</a>, we then map each pixel to its corresponding longitude and latitude.&nbsp;<br>
                  <br>We then "draw" administrative (provincial and municipal) boundaries on the satellite imagery using <a href="https://data.humdata.org/dataset/cod-ab-phl" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-6">shape files</a>&nbsp;from the Philippine Statistics Authority and the National Mapping and Resource Information Authority. By drawing precise boundaries, we can quantitatively determine the nighttime lights radiance (or "brightness") of a particular municipality.
                </p>
              </div>
            </div>
            <div class="u-border-1 u-border-grey-40 u-custom-item u-list-item u-palette-3-base u-repeater-item u-video-cover">
              <div class="u-container-layout u-similar-container u-container-layout-3">
                <h2 class="u-text u-text-black u-text-default u-text-6">03 Calculating radiance</h2>
                <p class="u-custom-item u-text u-text-7">
                  <span style="font-weight: 700; font-style: italic;">Radiance per pixel<br>
                    <span style="font-weight: 400; font-style: normal;">In Black Marble imagery, each pixel is a 500-meter square with a given absolute radiance. To calculate the total radiance for a municipality, we first "smooth" the data. Instead of taking the raw per-pixel radiance, we calculate a new per-pixel radiance using a 3-by-3 moving window. This means that, for every pixel, we take a 3-by-3 window around it and the mean radiance of the 8 surrounding pixels becomes the new per-pixel radiance.&nbsp;</span>
                    <br>
                    <br>Aggregate radiance<br>
                    <span style="font-weight: 400; font-style: normal;">To calculate the aggregate radiance of a particular municipality, we simply add the radiance over all the pixels within that municipality's boundary.</span>
                    <br>
                    <br>Absolute and relative radiance
                  </span>
                  <br>Our main task is to calculate the radiance over time of each municipality in Eastern Visayas. We calculate two types of radiance: absolute and relative radiance. Absolute radiance is the "brightness" as measured by the <a href="https://www.earthdata.nasa.gov/sensors/viirs#:~:text=The%20Visible%20Infrared%20Imaging%20Radiometer,atmosphere%2C%20cryosphere%2C%20and%20ocean." class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-7">VIIRS instrument</a>&nbsp;after it has gone through the smoothing described above. This is useful for comparing different municipalities with each other.&nbsp;<br>
                  <br>Meanwhile, relative radiance is the radiance relative to pre-disaster levels. For example, Tacloban City at 9% relative radiance means that it is only 9% as bright as it was before Yolanda. This measure is useful for comparing the radiance of a municipality at different points in time.<br>
                  <span style="font-weight: 700;"></span>
                </p>
              </div>
            </div>
            <div class="u-border-1 u-border-grey-40 u-custom-item u-list-item u-palette-3-base u-repeater-item u-video-cover">
              <div class="u-container-layout u-similar-container u-container-layout-4">
                <h2 class="u-text u-text-black u-text-default u-text-8">04 Visualizing data</h2>
                <p class="u-custom-item u-text u-text-9">To visualize data, we used <a href="https://matplotlib.org/" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-black u-btn-8">matplotlib</a> ("A Quick Look"), <a href="https://plotly.com/python/" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-9">plotly</a> ("A Closer Look") and <a href="https://deck.gl/" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-color u-btn-10">deck.gl</a> ("Visualizing Recovery").&nbsp;
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="u-clearfix u-custom-color-3 u-section-3" id="sec-45cf">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-align-center-sm u-align-center-xs u-align-left-lg u-align-left-md u-align-left-xl u-text u-text-1">Follow along </h2>
        <a href="https://github.com/hilldiandales/nightlights" class="u-align-center-lg u-align-center-md u-align-center-sm u-align-center-xl u-align-left-xs u-border-2 u-border-hover-palette-3-base u-border-white u-btn u-button-style u-custom-item u-text-body-alt-color u-text-hover-palette-3-base u-btn-1"><span class="u-file-icon u-icon u-text-white u-icon-1" data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction=""><img src="images/3291695-86e084f0.png" alt=""></span>&nbsp;GITHUB&nbsp;
        </a>
        <p class="u-align-center-sm u-align-center-xs u-align-left-lg u-align-left-md u-align-left-xl u-text u-text-2">To follow along our entire process, visit our&nbsp;<a href="https://github.com/hilldiandales/nightlights" class="u-active-none u-border-2 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-border-palette-2-base u-btn u-button-link u-button-style u-hover-none u-none u-text-body-alt-color u-btn-2">Github repository</a>.
        </p>
      </div>
    </section>
    
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-40a3"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Made with Nicepage.</p>
      </div></footer>
  
</body></html>